{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Project III\\\\src\\\\admin\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { actLoginRequest } from '../../redux/actions/auth';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Recaptcha from 'react-recaptcha';\nimport { startLoading, doneLoading } from '../../utils/loading';\nimport { Link } from 'react-router-dom';\ntoast.configure();\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const name = event.target.name;\n      const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        email,\n        password,\n        isVerified\n      } = this.state; //verifi captcha\n\n      if (isVerified) {\n        if (password.length < 6 || password.length > 32) {\n          return toast.error('Password must be 6-32 characters');\n        }\n\n        const user = {\n          email,\n          password\n        };\n        startLoading();\n        await this.props.loginRequest(user);\n        doneLoading();\n      } else {\n        return toast.error('Please confirm captcha');\n      }\n    };\n\n    this.verifyCallback = this.verifyCallback.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      isVerified: false\n    };\n  }\n\n  recaptchaLoaded() {//reload captcha\n  }\n\n  verifyCallback(res) {\n    if (res) {\n      this.setState({\n        isVerified: true\n      });\n    }\n  }\n\n  render() {\n    const {\n      email,\n      password\n    } = this.state;\n    const {\n      user\n    } = this.props;\n\n    if (user !== null) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-12 col-md-12 col-xs-12 col-lg-6 mb-30\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => this.handleSubmit(event),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"login-title\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12 col-12 mb-20\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email Address*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.handleChange,\n                value: email,\n                className: \"mb-0\",\n                type: \"email\",\n                placeholder: \"Email Address\",\n                name: \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-20\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.handleChange,\n                value: password,\n                className: \"mb-0\",\n                type: \"password\",\n                placeholder: \"Password\",\n                name: \"password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-8\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"check-box d-inline-block ml-0 ml-md-2 mt-10\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"remember_me\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"remember_me\",\n                  children: \"Remember me\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4 mt-10 mb-20 text-left text-md-right\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/forgot-password\",\n                children: \" Forgotten pasward?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"register-button mt-0 mb-3\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-8\",\n              children: /*#__PURE__*/_jsxDEV(Recaptcha, {\n                sitekey: \"6Lcd9sEUAAAAAAEj4w9sjBETFKCPXVmcPelQzGjK\",\n                render: \"explicit\",\n                verifyCallback: res => this.verifyCallback(res),\n                onloadCallback: this.recaptchaLoaded\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loginRequest: user => {\n      dispatch(actLoginRequest(user));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Project III/src/admin/Login.js"],"names":["React","Component","actLoginRequest","connect","Redirect","toast","Recaptcha","startLoading","doneLoading","Link","configure","Login","constructor","props","handleChange","event","name","target","value","type","checked","setState","handleSubmit","preventDefault","email","password","isVerified","state","length","error","user","loginRequest","verifyCallback","bind","recaptchaLoaded","res","render","mapStateToProps","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { actLoginRequest } from '../../redux/actions/auth';\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Recaptcha from 'react-recaptcha'\r\nimport { startLoading, doneLoading } from '../../utils/loading'\r\nimport { Link } from 'react-router-dom'\r\ntoast.configure()\r\n\r\nclass Login extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.verifyCallback = this.verifyCallback.bind(this);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      isVerified: false\r\n    }\r\n  }\r\n\r\n  handleChange = event => {\r\n    const name = event.target.name;\r\n    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  recaptchaLoaded(){\r\n    //reload captcha\r\n  }\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const { email, password, isVerified } = this.state;\r\n    //verifi captcha\r\n    if (isVerified) {\r\n      if (password.length < 6 || password.length > 32) {\r\n        return toast.error('Password must be 6-32 characters');\r\n      }\r\n      const user = {\r\n        email,\r\n        password\r\n      }\r\n      startLoading();\r\n      await this.props.loginRequest(user);\r\n      doneLoading();\r\n    } else {\r\n      return toast.error('Please confirm captcha');\r\n    }\r\n  }\r\n  verifyCallback(res) {\r\n    if (res) {\r\n      this.setState({\r\n        isVerified: true\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n    const { user } = this.props;\r\n    if (user !== null ) {\r\n      return <Redirect to=\"/\"></Redirect>\r\n    }\r\n    return (\r\n      <div className=\"col-sm-12 col-md-12 col-xs-12 col-lg-6 mb-30\">\r\n        {/* Login Form s*/}\r\n        <form onSubmit={(event) => this.handleSubmit(event)}>\r\n          <div className=\"login-form\">\r\n            <h4 className=\"login-title\">Login</h4>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12 col-12 mb-20\">\r\n                <label>Email Address*</label>\r\n                <input onChange={this.handleChange} value={email} className=\"mb-0\" type=\"email\" placeholder=\"Email Address\" name='email' />\r\n              </div>\r\n              <div className=\"col-12 mb-20\">\r\n                <label>Password</label>\r\n                <input onChange={this.handleChange} value={password} className=\"mb-0\" type=\"password\" placeholder=\"Password\" name='password' />\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <div className=\"check-box d-inline-block ml-0 ml-md-2 mt-10\">\r\n                  <input type=\"checkbox\" id=\"remember_me\" />\r\n                  <label htmlFor=\"remember_me\">Remember me</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4 mt-10 mb-20 text-left text-md-right\">\r\n                <Link to=\"/forgot-password\"> Forgotten pasward?</Link>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <button className=\"register-button mt-0 mb-3\">Login</button>\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <Recaptcha\r\n                  sitekey=\"6Lcd9sEUAAAAAAEj4w9sjBETFKCPXVmcPelQzGjK\"\r\n                  render=\"explicit\"\r\n                  verifyCallback={(res) => this.verifyCallback(res)}\r\n                  onloadCallback={this.recaptchaLoaded}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.auth\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    loginRequest: (user) => {\r\n      dispatch(actLoginRequest(user))\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}